(function(a){a(document).ready(function(){function b(){jQuery.ajax({data:{action:"wp_redisearch_drop_index"},type:"post",url:wpRds.ajaxUrl}).done(function(a){a.data&&c()}).error(function(a){console.log(a)})}function c(){jQuery.ajax({data:{action:"wp_redisearch_add_to_index"},type:"post",url:wpRds.ajaxUrl}).done(function(a){a.data.offset<a.data.found_posts?(e(a.data.offset,a.data.found_posts),c()):(e(a.data.found_posts,a.data.found_posts),g.css("display","inline-block"),d())}).error(function(a){console.log(a)})}function d(){jQuery.ajax({data:{action:"wp_redisearch_write_to_disk"},type:"post",url:wpRds.ajaxUrl}).done(function(a){console.log("Data successfully written to the disk ",a.data)}).error(function(a){console.log("Error writing to the disk ",a)})}function e(b,c){let d=a("#indexBar"),e=a("#statNumDoc"),f=a("#statNumPosts");e.text(b),f.text(c);d.css("width",100*(b/c)+"%")}var f=a(".indexing-options"),g=a(".start-indexing"),h=a(".resume-indexing");f.attr("data-num-docs")==f.attr("data-num-posts")&&h.css("display","none"),g.click(function(a){a.preventDefault(),g.css("display","none"),b()}),h.click(function(a){a.preventDefault(),h.css("display","none"),c()}),function(){let b=a("#indexBar"),c=b.attr("data-num-docs"),d=b.attr("data-num-posts");b.css("width",100*(c/d)+"%")}()})})(jQuery);
